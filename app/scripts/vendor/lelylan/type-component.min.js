var Showdown={extensions:{}},forEach=Showdown.forEach=function(a,b){if(typeof a.forEach=="function")a.forEach(b);else{var c,d=a.length;for(c=0;c<d;c++)b(a[c],c,a)}},stdExtName=function(a){return a.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(a){var b,c,d,e=0,f=[],g=[];if(typeof module!="undefind"&&typeof exports!="undefined"&&typeof require!="undefind"){var h=require("fs");if(h){var i=h.readdirSync((__dirname||".")+"/extensions").filter(function(a){return~a.indexOf(".js")}).map(function(a){return a.replace(/\.js$/,"")});Showdown.forEach(i,function(a){var b=stdExtName(a);Showdown.extensions[b]=require("./extensions/"+a)})}}this.makeHtml=function(a){return b={},c={},d=[],a=a.replace(/~/g,"~T"),a=a.replace(/\$/g,"~D"),a=a.replace(/\r\n/g,"\n"),a=a.replace(/\r/g,"\n"),a="\n\n"+a+"\n\n",a=M(a),a=a.replace(/^[ \t]+$/mg,""),Showdown.forEach(f,function(b){a=k(b,a)}),a=z(a),a=m(a),a=l(a),a=o(a),a=K(a),a=a.replace(/~D/g,"$$"),a=a.replace(/~T/g,"~"),Showdown.forEach(g,function(b){a=k(b,a)}),a};if(a&&a.extensions){var j=this;Showdown.forEach(a.extensions,function(a){typeof a=="string"&&(a=Showdown.extensions[stdExtName(a)]);if(typeof a!="function")throw"Extension '"+a+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(a(j),function(a){a.type?a.type==="language"||a.type==="lang"?f.push(a):(a.type==="output"||a.type==="html")&&g.push(a):g.push(a)})})}var k=function(a,b){if(a.regex){var c=new RegExp(a.regex,"g");return b.replace(c,a.replace)}if(a.filter)return a.filter(b)},l=function(a){return a+="~0",a=a.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(a,d,e,f,g){return d=d.toLowerCase(),b[d]=G(e),f?f+g:(g&&(c[d]=g.replace(/"/g,"&quot;")),"")}),a=a.replace(/~0/,""),a},m=function(a){a=a.replace(/\n/g,"\n\n");var b="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del|style|section|header|footer|nav|article|aside",c="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside";return a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,n),a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,n),a=a.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,n),a=a.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,n),a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,n),a=a.replace(/\n\n/g,"\n"),a},n=function(a,b){var c=b;return c=c.replace(/\n\n/g,"\n"),c=c.replace(/^\n/,""),c=c.replace(/\n+$/g,""),c="\n\n~K"+(d.push(c)-1)+"K\n\n",c},o=function(a){a=v(a);var b=A("<hr />");return a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,b),a=a.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,b),a=a.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,b),a=x(a),a=y(a),a=E(a),a=m(a),a=F(a),a},p=function(a){return a=B(a),a=q(a),a=H(a),a=t(a),a=r(a),a=I(a),a=G(a),a=D(a),a=a.replace(/  +\n/g," <br />\n"),a},q=function(a){var b=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return a=a.replace(b,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=N(b,"\\`*_"),b}),a},r=function(a){return a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,s),a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,s),a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,s),a},s=function(a,d,e,f,g,h,i,j){j==undefined&&(j="");var k=d,l=e,m=f.toLowerCase(),n=g,o=j;if(n==""){m==""&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m;if(b[m]!=undefined)n=b[m],c[m]!=undefined&&(o=c[m]);else{if(!(k.search(/\(\s*\)$/m)>-1))return k;n=""}}n=N(n,"*_");var p='<a href="'+n+'"';return o!=""&&(o=o.replace(/"/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"'),p+=">"+l+"</a>",p},t=function(a){return a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,u),a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,u),a},u=function(a,d,e,f,g,h,i,j){var k=d,l=e,m=f.toLowerCase(),n=g,o=j;o||(o="");if(n==""){m==""&&(m=l.toLowerCase().replace(/ ?\n/g," ")),n="#"+m;if(b[m]==undefined)return k;n=b[m],c[m]!=undefined&&(o=c[m])}l=l.replace(/"/g,"&quot;"),n=N(n,"*_");var p='<img src="'+n+'" alt="'+l+'"';return o=o.replace(/"/g,"&quot;"),o=N(o,"*_"),p+=' title="'+o+'"',p+=" />",p},v=function(a){function b(a){return a.replace(/[^\w]/g,"").toLowerCase()}return a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,c){return A('<h1 id="'+b(c)+'">'+p(c)+"</h1>")}),a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,c){return A('<h2 id="'+b(c)+'">'+p(c)+"</h2>")}),a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(a,c,d){var e=c.length;return A("<h"+e+' id="'+b(d)+'">'+p(d)+"</h"+e+">")}),a},w,x=function(a){a+="~0";var b=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return e?a=a.replace(b,function(a,b,c){var d=b,e=c.search(/[*+-]/g)>-1?"ul":"ol";d=d.replace(/\n{2,}/g,"\n\n\n");var f=w(d);return f=f.replace(/\s+$/,""),f="<"+e+">"+f+"</"+e+">\n",f}):(b=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(b,function(a,b,c,d){var e=b,f=c,g=d.search(/[*+-]/g)>-1?"ul":"ol",f=f.replace(/\n{2,}/g,"\n\n\n"),h=w(f);return h=e+"<"+g+">\n"+h+"</"+g+">\n",h})),a=a.replace(/~0/,""),a};w=function(a){return e++,a=a.replace(/\n{2,}$/,"\n"),a+="~0",a=a.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(a,b,c,d,e){var f=e,g=b,h=c;return g||f.search(/\n{2,}/)>-1?f=o(L(f)):(f=x(L(f)),f=f.replace(/\n$/,""),f=p(f)),"<li>"+f+"</li>\n"}),a=a.replace(/~0/g,""),e--,a};var y=function(a){return a+="~0",a=a.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(a,b,c){var d=b,e=c;return d=C(L(d)),d=M(d),d=d.replace(/^\n+/g,""),d=d.replace(/\n+$/g,""),d="<pre><code>"+d+"\n</code></pre>",A(d)+e}),a=a.replace(/~0/,""),a},z=function(a){return a+="~0",a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(a,b,c){var d=b,e=c;return e=C(e),e=M(e),e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,""),e="<pre><code"+(d?' class="'+d+'"':"")+">"+e+"\n</code></pre>",A(e)}),a=a.replace(/~0/,""),a},A=function(a){return a=a.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(d.push(a)-1)+"K\n\n"},B=function(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,b,c,d,e){var f=d;return f=f.replace(/^([ \t]*)/g,""),f=f.replace(/[ \t]*$/g,""),f=C(f),b+"<code>"+f+"</code>"}),a},C=function(a){return a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=N(a,"*_{}[]\\",!1),a},D=function(a){return a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>"),a},E=function(a){return a=a.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(a,b){var c=b;return c=c.replace(/^[ \t]*>[ \t]?/gm,"~0"),c=c.replace(/~0/g,""),c=c.replace(/^[ \t]+$/gm,""),c=o(c),c=c.replace(/(^|\n)/g,"$1  "),c=c.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c=b;return c=c.replace(/^  /mg,"~0"),c=c.replace(/~0/g,""),c}),A("<blockquote>\n"+c+"\n</blockquote>")}),a},F=function(a){a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");var b=a.split(/\n{2,}/g),c=[],e=b.length;for(var f=0;f<e;f++){var g=b[f];g.search(/~K(\d+)K/g)>=0?c.push(g):g.search(/\S/)>=0&&(g=p(g),g=g.replace(/^([ \t]*)/g,"<p>"),g+="</p>",c.push(g))}e=c.length;for(var f=0;f<e;f++)while(c[f].search(/~K(\d+)K/)>=0){var h=d[RegExp.$1];h=h.replace(/\$/g,"$$$$"),c[f]=c[f].replace(/~K\d+K/,h)}return c.join("\n\n")},G=function(a){return a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;"),a},H=function(a){return a=a.replace(/\\(\\)/g,O),a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,O),a},I=function(a){return a=a.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),a=a.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(a,b){return J(K(b))}),a},J=function(a){var b=[function(a){return"&#"+a.charCodeAt(0)+";"},function(a){return"&#x"+a.charCodeAt(0).toString(16)+";"},function(a){return a}];return a="mailto:"+a,a=a.replace(/./g,function(a){if(a=="@")a=b[Math.floor(Math.random()*2)](a);else if(a!=":"){var c=Math.random();a=c>.9?b[2](a):c>.45?b[1](a):b[0](a)}return a}),a='<a href="'+a+'">'+a+"</a>",a=a.replace(/">.+:/g,'">'),a},K=function(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)}),a},L=function(a){return a=a.replace(/^(\t|[ ]{1,4})/gm,"~0"),a=a.replace(/~0/g,""),a},M=function(a){return a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"~A~B"),a=a.replace(/~B(.+?)~A/g,function(a,b,c){var d=b,e=4-d.length%4;for(var f=0;f<e;f++)d+=" ";return d}),a=a.replace(/~A/g,"    "),a=a.replace(/~B/g,""),a},N=function(a,b,c){var d="(["+b.replace(/([\[\]\\])/g,"\\$1")+"])";c&&(d="\\\\"+d);var e=new RegExp(d,"g");return a=a.replace(e,O),a},O=function(a,b){var c=b.charCodeAt(0);return"~E"+c+"E"}},typeof module!="undefined"&&(module.exports=Showdown),typeof define=="function"&&define.amd&&define("showdown",function(){return Showdown}),angular.module("ui.bootstrap",["ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.collapse","ui.bootstrap.dialog","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.popover","ui.bootstrap.tabs","ui.bootstrap.tooltip","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);b!==-1&&this.groups.splice(this.groups.indexOf(a),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse","$transition","$timeout",function(a,b,c){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:["$scope",function(a){this.setHeading=function(a){this.heading=a}}],link:function(b,c,d,e){var f,g;e.addGroup(b),b.isOpen=!1,d.isOpen&&(f=a(d.isOpen),g=f.assign,b.$watch(function(){return f(b.$parent)},function(c){b.isOpen=c}),b.isOpen=f?f(b.$parent):!1),b.$watch("isOpen",function(a){a&&e.closeOthers(b),g&&g(b.$parent,a)})}}}]).directive("accordionHeading",function(){return{restrict:"E",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(a,b,c){return function(b,d,e,f){f.setHeading(c(b,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).directive("alert",function(){return{restrict:"EA",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).directive("btnRadio",["buttonConfig",function(a){var b=a.activeClass||"active",c=a.toggleEvent||"click";return{require:"ngModel",link:function(a,d,e,f){var g=a.$eval(e.btnRadio);a.$watch(function(){return f.$modelValue},function(a){angular.equals(a,g)?d.addClass(b):d.removeClass(b)}),d.bind(c,function(){d.hasClass(b)||a.$apply(function(){f.$setViewValue(g)})})}}}]).directive("btnCheckbox",["buttonConfig",function(a){var b=a.activeClass||"active",c=a.toggleEvent||"click";return{require:"ngModel",link:function(a,d,e,f){var g=a.$eval(e.btnCheckboxTrue),h=a.$eval(e.btnCheckboxFalse);g=angular.isDefined(g)?g:!0,h=angular.isDefined(h)?h:!1,a.$watch(function(){return f.$modelValue},function(a){angular.equals(a,g)?d.addClass(b):d.removeClass(b)}),d.bind(c,function(){a.$apply(function(){f.$setViewValue(d.hasClass(b)?h:g)})})}}}]),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(a,b,c,d){function j(){function c(){i?(a.next(),j()):a.pause()}h&&b.cancel(h);var d=+a.interval;!isNaN(d)&&d>=0&&(h=b(c,d))}var e=this,f=e.slides=[],g=-1,h,i;e.currentSlide=null,e.select=function(d,h){function k(){e.currentSlide&&angular.isString(h)&&!a.noTransition&&d.$element?(d.$element.addClass(h),d.$element[0].offsetWidth=d.$element[0].offsetWidth,angular.forEach(f,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(d,{direction:h,active:!0,entering:!0}),angular.extend(e.currentSlide||{},{direction:h,leaving:!0}),a.$currentTransition=c(d.$element,{}),function(b,c){a.$currentTransition.then(function(){l(b,c)},function(){l(b,c)})}(d,e.currentSlide)):l(d,e.currentSlide),e.currentSlide=d,g=i,j()}function l(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var i=f.indexOf(d);h===undefined&&(h=i>g?"next":"prev"),d&&d!==e.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(k)):k())},e.indexOfSlide=function(a){return f.indexOf(a)},a.next=function(){var a=(g+1)%f.length;return e.select(f[a],"next")},a.prev=function(){var a=g-1<0?f.length-1:g-1;return e.select(f[a],"prev")},a.select=function(a){e.select(a)},a.isActive=function(a){return e.currentSlide===a},a.slides=function(){return f},a.$watch("interval",j),a.play=function(){i||(i=!0,j())},a.pause=function(){i=!1,h&&b.cancel(h)},e.addSlide=function(b,c){b.$element=c,f.push(b),f.length===1||b.active?(e.select(f[f.length-1]),f.length==1&&a.play()):b.active=!1},e.removeSlide=function(a){var b=f.indexOf(a);f.splice(b,1),f.length>0&&a.active&&(b>=f.length?e.select(f[b-1]):e.select(f[b]))}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"="}}}]).directive("slide",[function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"="},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){var b=function(a,b,c){b.removeClass("collapse"),b.css({height:c});var d=b[0].offsetWidth;b.addClass("collapse")};return{link:function(c,d,e){var f,g=!0;c.$watch(function(){return d[0].scrollHeight},function(a){d[0].scrollHeight!==0&&(f||(g?b(c,d,d[0].scrollHeight+"px"):b(c,d,"auto")))}),c.$watch(e.collapse,function(a){a?k():j()});var h,i=function(b){return h&&h.cancel(),h=a(d,b),h.then(function(){h=undefined},function(){h=undefined}),h},j=function(){g?(g=!1,f||b(c,d,"auto")):i({height:d[0].scrollHeight+"px"}).then(function(){f||b(c,d,"auto")}),f=!1},k=function(){f=!0,g?(g=!1,b(c,d,0)):(b(c,d,d[0].scrollHeight+"px"),i({height:"0"}))}}}}]);var dialogModule=angular.module("ui.bootstrap.dialog",["ui.bootstrap.transition"]);dialogModule.controller("MessageBoxController",["$scope","dialog","model",function(a,b,c){a.title=c.title,a.message=c.message,a.buttons=c.buttons,a.close=function(a){b.close(a)}}]),dialogModule.provider("$dialog",function(){var a={backdrop:!0,dialogClass:"modal",backdropClass:"modal-backdrop",transitionClass:"fade",triggerClass:"in",dialogOpenClass:"modal-open",resolve:{},backdropFade:!1,dialogFade:!1,keyboard:!0,backdropClick:!0},b={},c={value:0};this.options=function(a){b=a},this.$get=["$http","$document","$compile","$rootScope","$controller","$templateCache","$q","$transition","$injector",function(d,e,f,g,h,i,j,k,l){function n(a){var b=angular.element("<div>");return b.addClass(a),b}function o(c){var d=this,e=this.options=angular.extend({},a,b,c);this.backdropEl=n(e.backdropClass),e.backdropFade&&(this.backdropEl.addClass(e.transitionClass),this.backdropEl.removeClass(e.triggerClass)),this.modalEl=n(e.dialogClass),e.dialogFade&&(this.modalEl.addClass(e.transitionClass),this.modalEl.removeClass(e.triggerClass)),this.handledEscapeKey=function(a){a.which===27&&(d.close(),a.preventDefault(),d.$scope.$apply())},this.handleBackDropClick=function(a){d.close(),a.preventDefault(),d.$scope.$apply()}}var m=e.find("body");return o.prototype.isOpen=function(){return this._open},o.prototype.open=function(a,b){var c=this,d=this.options;a&&(d.templateUrl=a),b&&(d.controller=b);if(!d.template&&!d.templateUrl)throw new Error("Dialog.open expected template or templateUrl, neither found. Use options or open method to specify them.");return this._loadResolves().then(function(a){var b=a.$scope=c.$scope=a.$scope?a.$scope:g.$new();c.modalEl.html(a.$template);if(c.options.controller){var d=h(c.options.controller,a);c.modalEl.contents().data("ngControllerController",d)}f(c.modalEl)(b),c._addElementsToDom(),m.addClass(c.options.dialogOpenClass),setTimeout(function(){c.options.dialogFade&&c.modalEl.addClass(c.options.triggerClass),c.options.backdropFade&&c.backdropEl.addClass(c.options.triggerClass)}),c._bindEvents()}),this.deferred=j.defer(),this.deferred.promise},o.prototype.close=function(a){function e(a){a.removeClass(b.options.triggerClass)}function f(){b._open&&b._onCloseComplete(a)}var b=this,c=this._getFadingElements();m.removeClass(b.options.dialogOpenClass);if(c.length>0){for(var d=c.length-1;d>=0;d--)k(c[d],e).then(f);return}this._onCloseComplete(a)},o.prototype._getFadingElements=function(){var a=[];return this.options.dialogFade&&a.push(this.modalEl),this.options.backdropFade&&a.push(this.backdropEl),a},o.prototype._bindEvents=function(){this.options.keyboard&&m.bind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.bind("click",this.handleBackDropClick)},o.prototype._unbindEvents=function(){this.options.keyboard&&m.unbind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.unbind("click",this.handleBackDropClick)},o.prototype._onCloseComplete=function(a){this._removeElementsFromDom(),this._unbindEvents(),this.deferred.resolve(a)},o.prototype._addElementsToDom=function(){m.append(this.modalEl),this.options.backdrop&&(c.value===0&&m.append(this.backdropEl),c.value++),this._open=!0},o.prototype._removeElementsFromDom=function(){this.modalEl.remove(),this.options.backdrop&&(c.value--,c.value===0&&this.backdropEl.remove()),this._open=!1},o.prototype._loadResolves=function(){var a=[],b=[],c,e=this;return this.options.template?c=j.when(this.options.template):this.options.templateUrl&&(c=d.get(this.options.templateUrl,{cache:i}).then(function(a){return a.data})),angular.forEach(this.options.resolve||[],function(c,d){b.push(d),a.push(angular.isString(c)?l.get(c):l.invoke(c))}),b.push("$template"),a.push(c),j.all(a).then(function(a){var c={};return angular.forEach(a,function(a,d){c[b[d]]=a}),c.dialog=e,c})},{dialog:function(a){return new o(a)},messageBox:function(a,b,c){return new o({templateUrl:"template/dialog/message.html",controller:"MessageBoxController",resolve:{model:function(){return{title:a,message:b,buttons:c}}}})}}}]}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location","$window",function(a,b,c){var d=null,e;return{restrict:"CA",link:function(c,f,g){c.$watch(function(){return b.path()},function(){e&&e()}),f.parent().bind("click",function(a){e&&e()}),f.bind("click",function(b){b.preventDefault(),b.stopPropagation();var c=!1;d&&(c=d===f,e()),c||(f.parent().addClass("open"),d=f,e=function(b){b&&(b.preventDefault(),b.stopPropagation()),a.unbind("click",e),f.parent().removeClass("open"),e=null,d=null},a.bind("click",e))})}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.dialog"]).directive("modal",["$parse","$dialog",function(a,b){var c,d=angular.element(document.getElementsByTagName("body")[0]);return{restrict:"EA",terminal:!0,link:function(c,d,e){var f=angular.extend({},c.$eval(e.uiOptions||e.bsOptions||e.options)),g=e.modal||e.show,h;f=angular.extend(f,{template:d.html(),resolve:{$scope:function(){return c}}});var i=b.dialog(f);d.remove(),e.close?h=function(){a(e.close)(c)}:h=function(){angular.isFunction(a(g).assign)&&a(g).assign(c,!1)},c.$watch(g,function(a,b){a?i.open().then(function(){h()}):i.isOpen()&&i.close()})}}}]),angular.module("ui.bootstrap.pagination",[]).constant("paginationConfig",{boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last"}).directive("pagination",["paginationConfig",function(a){return{restrict:"EA",scope:{numPages:"=",currentPage:"=",maxSize:"=",onSelectPage:"&"},templateUrl:"template/pagination/pagination.html",replace:!0,link:function(b,c,d){function k(a,b,c,d){return{number:a,text:b,active:c,disabled:d}}var e=angular.isDefined(d.boundaryLinks)?b.$eval(d.boundaryLinks):a.boundaryLinks,f=angular.isDefined(d.directionLinks)?b.$eval(d.directionLinks):a.directionLinks,g=angular.isDefined(d.firstText)?d.firstText:a.firstText,h=angular.isDefined(d.previousText)?d.previousText:a.previousText,i=angular.isDefined(d.nextText)?d.nextText:a.nextText,j=angular.isDefined(d.lastText)?d.lastText:a.lastText;b.$watch("numPages + currentPage + maxSize",function(){b.pages=[];var a=b.maxSize&&b.maxSize<b.numPages?b.maxSize:b.numPages,c=b.currentPage-Math.floor(a/2);c<1&&(c=1),c+a-1>b.numPages&&(c-=c+a-1-b.numPages);for(var d=c,l=c+a;d<l;d++){var m=k(d,d,b.isActive(d),!1);b.pages.push(m)}if(f){var n=k(b.currentPage-1,h,!1,b.noPrevious());b.pages.unshift(n);var o=k(b.currentPage+1,i,!1,b.noNext());b.pages.push(o)}if(e){var p=k(1,g,!1,b.noPrevious());b.pages.unshift(p);var q=k(b.numPages,j,!1,b.noNext());b.pages.push(q)}b.currentPage>b.numPages&&b.selectPage(b.numPages)}),b.noPrevious=function(){return b.currentPage===1},b.noNext=function(){return b.currentPage===b.numPages},b.isActive=function(a){return b.currentPage===a},b.selectPage=function(a){!b.isActive(a)&&a>0&&a<=b.numPages&&(b.currentPage=a,b.onSelectPage({page:a}))}}}}]),angular.module("ui.bootstrap.popover",[]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{popoverTitle:"@",popoverContent:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$compile","$timeout","$parse","$window",function(a,b,c,d){var e='<popover-popup popover-title="{{tt_title}}" popover-content="{{tt_popover}}" placement="{{tt_placement}}" animation="tt_animation()" is-open="tt_isOpen"></popover-popup>';return{scope:!0,link:function(f,g,h){function k(){var a=g[0].getBoundingClientRect();return{width:g.prop("offsetWidth"),height:g.prop("offsetHeight"),top:a.top+d.pageYOffset,left:a.left+d.pageXOffset}}function l(){var a,c,d,e;j&&b.cancel(j),i.css({top:0,left:0,display:"block"}),g.after(i),a=k(),c=i.prop("offsetWidth"),d=i.prop("offsetHeight");switch(f.tt_placement){case"right":e={top:a.top+a.height/2-d/2+"px",left:a.left+a.width+"px"};break;case"bottom":e={top:a.top+a.height+"px",left:a.left+a.width/2-c/2+"px"};break;case"left":e={top:a.top+a.height/2-d/2+"px",left:a.left-c+"px"};break;default:e={top:a.top-d+"px",left:a.left+a.width/2-c/2+"px"}}i.css(e),f.tt_isOpen=!0}function m(){f.tt_isOpen=!1,angular.isDefined(f.tt_animation)&&f.tt_animation()?j=b(function(){i.remove()},500):i.remove()}var i=a(e)(f),j;h.$observe("popover",function(a){f.tt_popover=a}),h.$observe("popoverTitle",function(a){f.tt_title=a}),h.$observe("popoverPlacement",function(a){f.tt_placement=a||"top"}),h.$observe("popoverAnimation",function(a){f.tt_animation=c(a)}),f.tt_isOpen=!1,g.bind("click",function(){f.tt_isOpen?f.$apply(m):f.$apply(l)})}}}]),angular.module("ui.bootstrap.tabs",[]).controller("TabsController",["$scope","$element",function(a,b){var c=a.panes=[];this.select=a.select=function(b){angular.forEach(c,function(a){a.selected=!1}),b.selected=!0},this.addPane=function(d){c.length||a.select(d),c.push(d)},this.removePane=function(d){var e=c.indexOf(d);c.splice(e,1),d.selected&&c.length>0&&a.select(c[e<c.length?e:e-1])}}]).directive("tabs",function(){return{restrict:"EA",transclude:!0,scope:{},controller:"TabsController",templateUrl:"template/tabs/tabs.html",replace:!0}}).directive("pane",["$parse",function(a){return{require:"^tabs",restrict:"EA",transclude:!0,scope:{heading:"@"},link:function(b,c,d,e){var f,g;b.selected=!1,d.active&&(f=a(d.active),g=f.assign,b.$watch(function(){return f(b.$parent)},function(c){b.selected=c}),b.selected=f?f(b.$parent):!1),b.$watch("selected",function(a){a&&e.select(b),g&&g(b.$parent,a)}),e.addPane(b),b.$on("$destroy",function(){e.removePane(b)})},templateUrl:"template/tabs/pane.html",replace:!0}}]),angular.module("ui.bootstrap.tooltip",[]).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{tooltipTitle:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$compile","$timeout","$parse","$window",function(a,b,c,d){var e='<tooltip-popup tooltip-title="{{tt_tooltip}}" placement="{{tt_placement}}" animation="tt_animation()" is-open="tt_isOpen"></tooltip-popup>';return{scope:!0,link:function(f,g,h){function k(){var a=g[0].getBoundingClientRect();return{width:g.prop("offsetWidth"),height:g.prop("offsetHeight"),top:a.top+d.pageYOffset,left:a.left+d.pageXOffset}}function l(){var a,c,d,e;if(!f.tt_tooltip)return;j&&b.cancel(j),i.css({top:0,left:0,display:"block"}),g.after(i),a=k(),c=i.prop("offsetWidth"),d=i.prop("offsetHeight");switch(f.tt_placement){case"right":e={top:a.top+a.height/2-d/2+"px",left:a.left+a.width+"px"};break;case"bottom":e={top:a.top+a.height+"px",left:a.left+a.width/2-c/2+"px"};break;case"left":e={top:a.top+a.height/2-d/2+"px",left:a.left-c+"px"};break;default:e={top:a.top-d+"px",left:a.left+a.width/2-c/2+"px"}}i.css(e),f.tt_isOpen=!0}function m(){f.tt_isOpen=!1,angular.isDefined(f.tt_animation)&&f.tt_animation()?j=b(function(){i.remove()},500):i.remove()}var i=a(e)(f),j;h.$observe("tooltip",function(a){f.tt_tooltip=a}),h.$observe("tooltipPlacement",function(a){f.tt_placement=a||"top"}),h.$observe("tooltipAnimation",function(a){f.tt_animation=c(a)}),f.tt_isOpen=!1,g.bind("mouseenter",function(){f.$apply(l)}),g.bind("mouseleave",function(){f.$apply(m)})}}}]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function h(a){for(var b in a)if(e.style[b]!==undefined)return a[b]}var d=function(e,f,g){g=g||{};var h=a.defer(),i=d[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(a){c.$apply(function(){e.unbind(i,j),h.resolve(e)})};return i&&e.bind(i,j),b(function(){angular.isString(f)?e.addClass(f):angular.isFunction(f)?f(e):angular.isObject(f)&&e.css(f),i||h.resolve(e)}),h.promise.cancel=function(){i&&e.unbind(i,j),h.reject("Transition cancelled")},h.promise},e=document.createElement("trans"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},g={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",msTransition:"MSAnimationEnd",transition:"animationend"};return d.transitionEndEventName=h(f),d.animationEndEventName=h(g),d}]),angular.module("ui.bootstrap.typeahead",[]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(c){var d=c.match(b),e,f,g;if(!d)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+c+"'.");return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$q","typeaheadParser",function(a,b,c){var d=[9,13,27,38,40];return{require:"ngModel",link:function(e,f,g,h){var i=h.$modelValue,j=e.$eval(g.typeaheadMinLength)||1,k=c.parse(g.typeahead),l=e.$new();e.$on("$destroy",function(){l.$destroy()});var m=function(){l.matches=[],l.activeIdx=-1},n=function(a){var c={$viewValue:a};b.when(k.source(l,c)).then(function(b){if(a===h.$viewValue)if(b.length>0){l.activeIdx=0,l.matches.length=0;for(var d=0;d<b.length;d++)c[k.itemName]=b[d],l.matches.push({label:k.viewMapper(l,c),model:b[d]});l.query=a}else m()},m)};m(),l.query=undefined,h.$parsers.push(function(a){return m(),i?a:(a&&a.length>=j&&n(a),undefined)}),h.$render=function(){var a={};a[k.itemName]=i,f.val(k.viewMapper(l,a)||h.$viewValue),i=undefined},l.select=function(a){var b={};b[k.itemName]=i=l.matches[a].model,h.$setViewValue(k.modelMapper(l,b)),h.$render()},f.bind("keydown",function(a){if(l.matches.length===0||d.indexOf(a.which)===-1)return;a.preventDefault(),a.which===40?(l.activeIdx=(l.activeIdx+1)%l.matches.length,l.$digest()):a.which===38?(l.activeIdx=(l.activeIdx?l.activeIdx:l.matches.length)-1,l.$digest()):a.which===13||a.which===9?l.$apply(function(){l.select(l.activeIdx)}):a.which===27&&(l.matches=[],l.$digest())});var o=a("<typeahead-popup matches='matches' active='activeIdx' select='select(activeIdx)' query='query'></typeahead-popup>")(l);f.after(o)}}}]).directive("typeaheadPopup",function(){return{restrict:"E",scope:{matches:"=",query:"=",active:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead.html",link:function(a,b,c){a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).filter("typeaheadHighlight",function(){return function(a,b){return b?a.replace(new RegExp(b,"gi"),"<strong>$&</strong>"):b}}),Date.prototype.toRelativeTime=function(){var a=function(a){var f=b(a),g=f.now||new Date,h=g-this,i=h<=0;h=Math.abs(h);if(h<=f.nowThreshold)return i?"Right now":"Just now";if(f.smartDays&&h<=6*e)return c(this,g);var j=null;for(var k in d){if(h<d[k])break;j=k,h/=d[k]}return h=Math.floor(h),h!==1&&(j+="s"),[h,j,i?"from now":"ago"].join(" ")},b=function(a){return a||(a=0),typeof a=="string"&&(a=parseInt(a,10)),typeof a=="number"?(isNaN(a)&&(a=0),{nowThreshold:a}):a},c=function(a,b){var c,d=a.getDay(),e=d-b.getDay();return e==0?c="Today":e==-1?c="Yesterday":e==1&&a>b?c="Tomorrow":c=f[d],c+" at "+a.toLocaleTimeString()},d={millisecond:1,second:1e3,minute:60,hour:60,day:24,month:30,year:12},e=d.millisecond*d.second*d.minute*d.hour*d.day,f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return a}(),Date.fromString=function(a){return new Date(Date.parse(a))},function(a){var b=function(a,b){typeof b=="undefined"&&(b={}),this.init(a,b)},c=b.prototype,d,e=["canvas","vml"],f=["oval","spiral","square","rect","roundRect"],g=/^\#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,h=navigator.appVersion.indexOf("MSIE")!==-1&&parseFloat(navigator.appVersion.split("MSIE")[1])===8?!0:!1,i=!!document.createElement("canvas").getContext,j=!0,k=function(a,b,c){var a=document.createElement(a),d;for(d in c)a[d]=c[d];return typeof b!="undefined"&&b.appendChild(a),a},l=function(a,b){for(var c in b)a.style[c]=b[c];return a},m=function(a,b){for(var c in b)a.setAttribute(c,b[c]);return a},n=function(a,b,c,d){a.save(),a.translate(b,c),a.rotate(d),a.translate(-b,-c),a.beginPath()};c.init=function(a,c){typeof c.safeVML=="boolean"&&(j=c.safeVML);try{this.mum=document.getElementById(a)!==void 0?document.getElementById(a):document.body}catch(f){this.mum=document.body}c.id=typeof c.id!="undefined"?c.id:"canvasLoader",this.cont=k("div",this.mum,{id:c.id});if(i)d=e[0],this.can=k("canvas",this.cont),this.con=this.can.getContext("2d"),this.cCan=l(k("canvas",this.cont),{display:"none"}),this.cCon=this.cCan.getContext("2d");else{d=e[1];if(typeof b.vmlSheet=="undefined"){document.getElementsByTagName("head")[0].appendChild(k("style")),b.vmlSheet=document.styleSheets[document.styleSheets.length-1];var g=["group","oval","roundrect","fill"],h;for(h in g)b.vmlSheet.addRule(g[h],"behavior:url(#default#VML); position:absolute;")}this.vml=k("group",this.cont)}this.setColor(this.color),this.draw(),l(this.cont,{display:"none"})},c.cont={},c.can={},c.con={},c.cCan={},c.cCon={},c.timer={},c.activeId=0,c.diameter=40,c.setDiameter=function(a){this.diameter=Math.round(Math.abs(a)),this.redraw()},c.getDiameter=function(){return this.diameter},c.cRGB={},c.color="#000000",c.setColor=function(a){this.color=g.test(a)?a:"#000000",this.cRGB=this.getRGB(this.color),this.redraw()},c.getColor=function(){return this.color},c.shape=f[0],c.setShape=function(a){for(var b in f)if(a===f[b]){this.shape=a,this.redraw();break}},c.getShape=function(){return this.shape},c.density=40,c.setDensity=function(a){this.density=j&&d===e[1]?Math.round(Math.abs(a))<=40?Math.round(Math.abs(a)):40:Math.round(Math.abs(a)),this.density>360&&(this.density=360),this.activeId=0,this.redraw()},c.getDensity=function(){return this.density},c.range=1.3,c.setRange=function(a){this.range=Math.abs(a),this.redraw()},c.getRange=function(){return this.range},c.speed=2,c.setSpeed=function(a){this.speed=Math.round(Math.abs(a))},c.getSpeed=function(){return this.speed},c.fps=24,c.setFPS=function(a){this.fps=Math.round(Math.abs(a)),this.reset()},c.getFPS=function(){return this.fps},c.getRGB=function(a){return a=a.charAt(0)==="#"?a.substring(1,7):a,{r:parseInt(a.substring(0,2),16),g:parseInt(a.substring(2,4),16),b:parseInt(a.substring(4,6),16)}},c.draw=function(){var a=0,b,c,g,i,j,q,r,s=this.density,w=Math.round(s*this.range),x,y,z=0;y=this.cCon;var A=this.diameter;if(d===e[0]){y.clearRect(0,0,1e3,1e3),m(this.can,{width:A,height:A});for(m(this.cCan,{width:A,height:A});a<s;){x=a<=w?1-1/w*a:x=0,q=270-360/s*a,r=q/180*Math.PI,y.fillStyle="rgba("+this.cRGB.r+","+this.cRGB.g+","+this.cRGB.b+","+x.toString()+")";switch(this.shape){case f[0]:case f[1]:b=A*.07,i=A*.47+Math.cos(r)*(A*.47-b)-A*.47,j=A*.47+Math.sin(r)*(A*.47-b)-A*.47,y.beginPath(),this.shape===f[1]?y.arc(A*.5+i,A*.5+j,b*x,0,Math.PI*2,!1):y.arc(A*.5+i,A*.5+j,b,0,Math.PI*2,!1);break;case f[2]:b=A*.12,i=Math.cos(r)*(A*.47-b)+A*.5,j=Math.sin(r)*(A*.47-b)+A*.5,n(y,i,j,r),y.fillRect(i,j-b*.5,b,b);break;case f[3]:case f[4]:c=A*.3,g=c*.27,i=Math.cos(r)*(g+(A-g)*.13)+A*.5,j=Math.sin(r)*(g+(A-g)*.13)+A*.5,n(y,i,j,r),this.shape===f[3]?y.fillRect(i,j-g*.5,c,g):(b=g*.55,y.moveTo(i+b,j-g*.5),y.lineTo(i+c-b,j-g*.5),y.quadraticCurveTo(i+c,j-g*.5,i+c,j-g*.5+b),y.lineTo(i+c,j-g*.5+g-b),y.quadraticCurveTo(i+c,j-g*.5+g,i+c-b,j-g*.5+g),y.lineTo(i+b,j-g*.5+g),y.quadraticCurveTo(i,j-g*.5+g,i,j-g*.5+g-b),y.lineTo(i,j-g*.5+b),y.quadraticCurveTo(i,j-g*.5,i+b,j-g*.5))}y.closePath(),y.fill(),y.restore(),++a}}else{l(this.cont,{width:A,height:A}),l(this.vml,{width:A,height:A});switch(this.shape){case f[0]:case f[1]:r="oval",b=140;break;case f[2]:r="roundrect",b=120;break;case f[3]:case f[4]:r="roundrect",b=300}c=g=b,i=500-g;for(j=-g*.5;a<s;){x=a<=w?1-1/w*a:x=0,q=270-360/s*a;switch(this.shape){case f[1]:c=g=b*x,i=500-b*.5-b*x*.5,j=(b-b*x)*.5;break;case f[0]:case f[2]:h&&(j=0,this.shape===f[2]&&(i=500-g*.5));break;case f[3]:case f[4]:c=b*.95,g=c*.28,h?(i=0,j=500-g*.5):(i=500-c,j=-g*.5),z=this.shape===f[4]?.6:0}y=m(l(k("group",this.vml),{width:1e3,height:1e3,rotation:q}),{coordsize:"1000,1000",coordorigin:"-500,-500"}),y=l(k(r,y,{stroked:!1,arcSize:z}),{width:c,height:g,top:j,left:i}),k("fill",y,{color:this.color,opacity:x}),++a}}this.tick(!0)},c.clean=function(){if(d===e[0])this.con.clearRect(0,0,1e3,1e3);else{var a=this.vml;if(a.hasChildNodes())for(;a.childNodes.length>=1;)a.removeChild(a.firstChild)}},c.redraw=function(){this.clean(),this.draw()},c.reset=function(){typeof this.timer=="number"&&(this.hide(),this.show())},c.tick=function(a){var b=this.con,c=this.diameter;a||(this.activeId+=360/this.density*this.speed),d===e[0]?(b.clearRect(0,0,c,c),n(b,c*.5,c*.5,this.activeId/180*Math.PI),b.drawImage(this.cCan,0,0,c,c),b.restore()):(this.activeId>=360&&(this.activeId-=360),l(this.vml,{rotation:this.activeId}))},c.show=function(){if(typeof this.timer!="number"){var a=this;this.timer=self.setInterval(function(){a.tick()},Math.round(1e3/this.fps)),l(this.cont,{display:"block"})}},c.hide=function(){typeof this.timer=="number"&&(clearInterval(this.timer),delete this.timer,l(this.cont,{display:"none"}))},c.kill=function(){var a=this.cont;typeof this.timer=="number"&&this.hide(),d===e[0]?(a.removeChild(this.can),a.removeChild(this.cCan)):a.removeChild(this.vml);for(var b in this)delete this[b]},a.CanvasLoader=b}(window),"use strict",angular.module("lelylan.components.type",["lelylan","ui.bootstrap","lelylan.components.device","lelylan.components.type.directive","lelylan.components.type.services.type","lelylan.components.type.services.property","lelylan.components.type.services.function","lelylan.components.type.services.status","lelylan.components.type.services.category","lelylan.components.type.services.simulation","lelylan.components.type.services.config","lelylan.components.type.services.helper"]),"use strict";var directives=angular.module("lelylan.components.type.directive",[]);directives.directive("lelylanType",["Type","Property","Function","Status","Simulation","LoggedUser","TCHelper","TCType","TCProperty","TCFunction","TCStatus","TCCategory","TCConfig","$rootScope","$compile","$templateCache","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r={restrict:"EA",replace:!0,templateUrl:"/templates/type.html",scope:{typeId:"="}};return r.link=function(o,p,r){o.show={properties:!0},o.$watch("typeId",function(b){o.typeId&&(o.type=a.get({id:o.typeId},s))}),o.init=function(){s()};var s=function(){o.original=angular.copy(o.type),o.user=f.get(),o.config=m,t(),o.loaded=!0},t=function(){h.initDescription(o.type),i.init(o.type),j.init(o.type),k.init(o.type),l.init(o.type)};o.initProperty=function(a){i.initProperty(a)},o.newProperty=function(){var a=angular.copy(m.base.property);o.type.properties.push(a),i.initProperty(a),o.open(a,"edit","Create")},o.updateProperty=function(a,c){var d=new b(a);d.$update(function(){o.close(a,"edit"),i.initProperty(a),s()})},o.createProperty=function(a,c){o.close(a,"edit"),delete a.temp;var d=new b(a);d.$save(function(){angular.extend(a,d),o.updateType(a,"properties")})},o.deleteProperty=function(a){o.close(a,"delete");var c=new b(a);c.$delete(function(){w(a,"properties"),o.updateType(a,"properties")})},o.newFunction=function(){var a=angular.copy(m.base.function);o.type.functions.push(a),j.initFunction(a,type),o.open(a,"edit","Create")},o.updateFunction=function(a,b){var d=new c(a);d.$update(function(){o.close(a,"edit"),j.initFunction(a,type),s()})},o.createFunction=function(a,b){o.close(a,"edit"),delete a.temp;var d=new c(a);d.$save(function(){angular.extend(a,d),o.updateType(a,"functions")})},o.deleteFunction=function(a){o.close(a,"delete");var b=new c(a);b.$delete(function(){w(a,"functions"),o.updateType(a,"functions")})},o.addFunctionProperty=function(a){a.properties.push({})},o.newStatus=function(){var a=angular.copy(m.base.status);o.type.statuses.push(a),k.initStatus(a,o.type),o.open(a,"edit","Create")},o.updateStatus=function(a,b){var c=new d(a);c.$update(function(){o.close(a,"edit"),k.initStatus(a,o.type),s()})},o.createStatus=function(a,b){o.close(a,"edit"),delete a.temp;var c=new d(a);c.$save(function(){angular.extend(a,c),o.updateType(a,"statuses")})},o.deleteStatus=function(a){o.close(a,"delete");var b=new d(a);b.$delete(function(){w(a,"statuses"),o.updateType(a,"statuses")})},o.addStatusProperty=function(a){a.properties.push({})},o.toggleCategory=function(a){var b=_.include(o.type.categories,a.name);b?o.type.categories=_.reject(o.type.categories,function(b){return b==a.name}):o.type.categories.push(a.name),o.type.$update(s)},o.updateType=function(a,b){o.type["_"+b]=angular.copy(o.type[b]),o.type[b]=g.findIds(o.type[b]),o.type.$update(s),o.type[b]=o.type["_"+b]},o.destroy=function(){o.type.$delete(function(){o.destroyed=!0})},o.simulate=function(){o.simulatedDevice=e.set(o.type),o.simulatedType=new a(o.type)},o.showProperties=function(){o.show={properties:!0}},o.showFunctions=function(){o.show={functions:!0}},o.showStatuses=function(){o.show={statuses:!0}},o.showCategories=function(){o.show={categories:!0}},o.showSimulation=function(){o.show={simulation:!0},o.simulate()},o.showDelete=function(){o.show={"delete":!0}},o.close=function(a,b){a[b]=!1},o.open=function(a,b,c){o.modal={resource:a,visible:!0},a[b]=!0,a.label=c},o.reset=function(a,b,c){o.close(a,b,c),o.modal.visible&&(c&&c.$setPristine(),a.temp||u(a),a.temp&&v(a),o.modal.visible=!1)};var u=function(a){o.modal.resource.isA=="property"&&angular.extend(a,g.findResource(a.id,o.original.properties));if(o.modal.resource.isA=="function"&&a.id){var b=g.findResource(a.id,o.original.functions);a.name=angular.copy(b.name),a.properties=angular.copy(b.properties)}if(o.modal.resource.isA=="status"&&a.id){var b=g.findResource(a.id,o.original.statuses);a.name=angular.copy(b.name),a.properties=angular.copy(b.properties),a.function=angular.copy(b.function)}t()},v=function(a){q(function(){o.modal.resource.isA=="property"&&o.type.properties.pop(),o.modal.resource.isA=="function"&&o.type.functions.pop(),o.modal.resource.isA=="status"&&o.type.statuses.pop()},0)},w=function(a,b){o.type[b]=_.reject(o.type[b],function(b){return b.id==a.id})}},r}]),directives.config(["$locationProvider",function(a){a.html5Mode(!0).hashPrefix("!")}]),"use strict";var service=angular.module("lelylan.components.type.services.type",[]);service.factory("TCType",[function(){var a={};return a.initDescription=function(a){var b=new Showdown.converter;a.shadowDescription=b.makeHtml(a.description)},a}]),"use strict";var service=angular.module("lelylan.components.type.services.property",[]);service.factory("TCProperty",["TCConfig",function(a){var b={};return b.init=function(a){_.each(a.properties,function(a){a.isA="property",b.initProperty(a)})},b.initProperty=function(a){b.setPlaceholder(a),b.normalizeProperty(a)},b.setPlaceholder=function(b,c){b.placeholders=a.property.placeholders[b.type]},b.normalizeProperty=function(a){a.suggested==""&&(a.suggested=null),a.suggested&&angular.isString(a.suggested)&&(a.suggested=angular.fromJson(a.suggested)),a.suggested&&angular.isObject(a.suggested)&&(a._suggested=_.map(a.suggested,function(a,b){return{key:b,value:a}}),a.suggested=JSON.stringify(a.suggested))},b}]),"use strict";var service=angular.module("lelylan.components.type.services.function",[]);service.factory("TCFunction",["TCHelper",function(a){var b={};return b.init=function(a){_.each(a.functions,function(c){c.isA="function",b.initFunction(c,a)})},b.initFunction=function(b,c){a.extendResources(b.properties,c.properties)},b}]),"use strict";var service=angular.module("lelylan.components.type.services.status",[]);service.factory("TCStatus",["TCHelper",function(a){var b={};return b.init=function(a){_.each(a.statuses,function(c){c.isA="status",b.initStatus(c,a)})},b.initStatus=function(b,c){a.extendResources([b.function],c.functions),a.extendResources(b.properties,c.properties)},b}]),"use strict";var service=angular.module("lelylan.components.type.services.category",[]);service.factory("TCCategory",["TCConfig",function(a){var b={};return b.init=function(b){_.each(a.categories,function(a,c){a.name=c,a.active=_.include(b.categories,c)})},b}]),"use strict";var service=angular.module("lelylan.components.type.services.simulation",[]);service.factory("Simulation",["Device",function(a){var b={},c;return b.set=function(b){return c={uri:"http://api.lelylan.com/devices/1",id:"1",name:b.name,type:{uri:b.uri,id:b.id},physical:{uri:"http://arduino.house.com/1"},pending:!1,properties:[],created_at:new Date,updated_at:new Date,updated_from:{uri:"http://api.lelylan.com/users/1",name:"Alice"}},_.each(b.properties,function(a){var b={uri:a.uri,id:a.id,value:a.default,expected:a.default,pending:!1,suggested:angular.fromJson(a.suggested)};c.properties.push(b)}),new a(c)},b.get=function(){return c},b}]),"use strict";var service=angular.module("lelylan.components.type.services.config",[]);service.factory("TCConfig",[function(){var a={show:{properties:!0},inplace:{name:!0,description:!0},property:{types:{string:"Strings",range:"Range",number:"Numbers",color:"Colors"},placeholders:{string:{"default":"off",suggested:JSON.stringify({on:"On",off:"Off"})},number:{"default":"0",suggested:JSON.stringify({0:"Min",100:"Max"})},color:{"default":"#FFF",suggested:JSON.stringify({"#FFF":"White","#000":"Black"})},range:{"default":"0",range:{min:0,max:100,step:.1}}}},categories:{lights:{},locks:{},thermostats:{},sensors:{},meters:{},alarms:{},videos:{},appliances:{},others:{}},base:{property:{name:"",temp:!0,isA:"property",type:"string"},"function":{name:"",temp:!0,isA:"function",properties:[{}]},status:{name:"",temp:!0,isA:"status",properties:[{}],"function":{}}}};return a}]),"use strict";var service=angular.module("lelylan.components.type.services.helper",[]);service.factory("TCHelper",[function(){var a={};return a.extendResources=function(b,c){_.each(b,function(b){angular.extend(b,a.findResource(b.id,c))})},a.findResource=function(a,b){return _.find(b,function(b){return b.id==a})},a.findIds=function(a){_.reduce(a,function(a,b){return a.concat(b.id)},[])},a}]);